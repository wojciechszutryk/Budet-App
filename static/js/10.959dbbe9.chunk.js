(this["webpackJsonpBudet-App"]=this["webpackJsonpBudet-App"]||[]).push([[10],{296:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return w}));var r,o,c,i,a,l=t(33),u=t(29),d=t(0),s=t(16),b=t(269),j=t(28),p=t(4),f=t(3),h=f.c.span(r||(r=Object(p.a)(["\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.theme.colors.orange.dark})),x=f.c.ol(o||(o=Object(p.a)(["\n  margin-bottom: 7px;\n"]))),m=f.c.ul(c||(c=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n"]))),g=f.c.li(i||(i=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 2px 5px 2px 10px;\n  background-color: ",";\n  color: white;\n  border-top-left-radius: 12px;\n  border-bottom-left-radius: 12px;\n  \n  & button{\n    width: 36px;\n    height: 24px;\n    margin: 2px 0;\n    border: none;\n    outline: none;\n    border-radius: 20px;\n    color: white;\n    background-color: ",";\n    transition: .1s;\n    &:hover{\n      background-color: ",";\n    }\n  }\n\n  & input:last-child{\n    border: none;\n    outline: none;\n    color: white;\n    background-color: ",";\n    border-radius: 12px;\n    &::placeholder{\n      color: rgba(255, 255, 255, 0.4);\n    }\n\n    &.red::placeholder{\n      color: red;\n    }\n  }\n"])),(function(n){return n.theme.colors.orange.dark}),(function(n){return n.theme.colors.orange.dark}),(function(n){return n.theme.colors.orange.normal}),(function(n){return n.theme.colors.orange.normal})),O=f.c.li(a||(a=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 90%;\n  padding-left: 10px;\n  background-color: ",";\n  color: ",";\n  transition: all .1s;\n  border-left: 3px solid black;\n  border-right: 3px solid black;\n  \n  &:last-child{\n    border-bottom: 3px solid black;\n  }\n  \n  &:last-child button:first-child{\n    position: relative;\n    width: 20px;\n    height: 20px;\n    margin-top: 2px;\n    border-radius: 10px;\n    border: none;\n    outline: none;\n    background-color: #eee;\n    line-height: 20px;\n    transform: rotate(0deg);\n    transition: all .4s;\n  }\n\n  & button:last-child{\n    margin: 2px 0;\n  }\n\n  & input:last-child{\n    border: none;\n    outline: none;\n    color: white;\n    background-color: ",";\n    \n    &.red::placeholder{\n      color: red;\n    }\n  }\n  \n  &:hover{\n    width: 100%;\n    border-top-left-radius: 12px;\n    border-bottom-left-radius: 12px;\n  }\n\n  &:last-child:hover button:first-child{\n    transform: rotate(-540deg);\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.gray.light}),(function(n){return n.theme.colors.black.normal}),(function(n){return n.theme.colors.gray.light}),(function(n){return n.theme.colors.orange.normal})),k=t(67),y=t(20),C=t(19),v=t(1),w=function(n){var e=n.childrenCategories,t=n.parentCategories,r=n.onSubmit,o=Object(b.a)().t,c=Object(d.useState)(t),i=Object(u.a)(c,2),a=i[0],p=i[1],f=Object(d.useState)(e),w=Object(u.a)(f,2),I=w[0],S=w[1],M=Object(d.useCallback)((function(n,e){n.placeholder=o(e),n.classList.add("red"),setTimeout((function(){n.placeholder=o("Add new"),n.classList.remove("red")}),3e3)}),[o]),T=Object(d.useCallback)((function(n){var e=a.find((function(e){return e.name===n})).id,t=document.getElementById(n);if(t.value&&e){var r={id:I.length+1>parseInt(I.slice(-1)[0].id)+1?(I.length+1).toString():(parseInt(I.slice(-1)[0].id)+1).toString(),parentCategoryId:e,name:t.value};S([].concat(Object(l.a)(I),[r]))}else M(t,"Insert category name")}),[I,M,a]),A=Object(d.useCallback)((function(){var n=document.getElementById("newParent");if(n.value)if(a.find((function(e){return e.name===n.value})))n.value="",M(n,"Category exists");else{var e={id:a.length+1>parseInt(a.slice(-1)[0].id)+1?(a.length+1).toString():(parseInt(a.slice(-1)[0].id)+1).toString(),name:n.value};p([].concat(Object(l.a)(a),[e]))}else M(n,"Insert category name")}),[M,a]),B=Object(d.useCallback)((function(n,e){var t=Object(l.a)(I),r=t.indexOf(t.find((function(t){return t.id===n&&t.parentCategoryId===e})));t.splice(r,1),S(t)}),[I]),E=Object(d.useCallback)((function(n){var e=Object(l.a)(I),t=Object(l.a)(a),r=t.indexOf(t.find((function(e){return e.name===n})));S(e.filter((function(n){return n.parentCategoryId!==t[r].id}))),t.splice(r,1),p(t)}),[I,a]),J=Object(d.useMemo)((function(){return Object.entries(Object(k.groupBy)(I,(function(n){return a.find((function(e){return e.id===n.parentCategoryId})).name})))}),[I,a]),L=J.map((function(n){return n[0]})),P=a.map((function(n){return n.name})).filter((function(n){return!L.includes(n)})),F=a.filter((function(n){return P.includes(n.name)})).map((function(n){return Object(v.jsxs)(x,{children:[Object(v.jsxs)(g,{children:[n.name,Object(v.jsx)(s.a,{buttonType:"delete",onClick:function(){return E(n.name)},children:Object(v.jsx)(C.a,{icon:y.g})})]}),Object(v.jsx)(m,{children:Object(v.jsxs)(O,{children:[Object(v.jsx)("button",{onClick:function(){return T(n.name)},children:Object(v.jsx)(C.a,{icon:y.d})}),Object(v.jsx)("input",{type:"text",id:n.name,placeholder:o("Add new")})]})})]},n.name+100*Math.random())})),N=Object(d.useMemo)((function(){return J.map((function(n){var e=Object(u.a)(n,2),t=e[0],r=e[1].map((function(n){return Object(v.jsxs)(O,{children:[n.name,Object(v.jsx)(s.a,{buttonType:"delete",onClick:function(){return B(n.id,n.parentCategoryId)},children:Object(v.jsx)(C.a,{icon:y.g})})]},n.name+100*Math.random())}));return Object(v.jsxs)(x,{children:[Object(v.jsxs)(g,{children:[t,Object(v.jsx)(s.a,{buttonType:"delete",onClick:function(){return E(t)},children:Object(v.jsx)(C.a,{icon:y.g})})]},t+100*Math.random()),Object(v.jsxs)(m,{children:[r,Object(v.jsxs)(O,{children:[Object(v.jsx)("button",{onClick:function(){return T(t)},children:Object(v.jsx)(C.a,{icon:y.d})}),Object(v.jsx)("input",{type:"text",id:t,placeholder:o("Add new")})]})]})]},t+100*Math.random())}))}),[T,J,B,E,o]),R=Object(d.useCallback)((function(){return function(){S(e),p(t)}}),[e,t]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h,{children:o("categories").toUpperCase()}),N,F,Object(v.jsxs)(g,{children:[Object(v.jsx)("button",{onClick:A,children:Object(v.jsx)(C.a,{icon:y.d})}),Object(v.jsx)("input",{type:"text",id:"newParent",placeholder:o("New parent Category")})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(j.b,{to:"/budget",children:Object(v.jsx)(s.a,{buttonType:"submit",type:"submit",onClick:function(){var n=I.filter((function(n){return!e.includes(n)})),o=e.filter((function(n){return!I.includes(n)})),c=a.filter((function(n){return!t.includes(n)})),i=t.filter((function(n){return!a.includes(n)}));r(n,o,c,i)},children:o("Save")})}),Object(v.jsx)(s.a,{buttonType:"reset",type:"button",onClick:R,children:"Reset"})]})]})}}}]);
//# sourceMappingURL=10.959dbbe9.chunk.js.map