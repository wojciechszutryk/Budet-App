(this["webpackJsonpBudet-App"]=this["webpackJsonpBudet-App"]||[]).push([[10],{290:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return I}));var r,o,c,i,a,l=t(35),u=t(8),d=t(0),s=t(11),b=t(263),f=t(23),p=t(4),j=t(3),h=j.c.span(r||(r=Object(p.a)(["\n  font-weight: 600;\n  color: ",";\n"])),(function(n){return n.theme.colors.orange.dark})),x=j.c.ol(o||(o=Object(p.a)(["\n  margin-bottom: 7px;\n"]))),m=j.c.ul(c||(c=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n"]))),g=j.c.li(i||(i=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 2px 5px 2px 10px;\n  background-color: ",";\n  color: white;\n  border-top-left-radius: 12px;\n  border-bottom-left-radius: 12px;\n  \n  & button{\n    width: 36px;\n    height: 24px;\n    margin: 2px 0;\n    border: none;\n    outline: none;\n    border-radius: 20px;\n    color: white;\n    background-color: ",";\n    transition: .1s;\n    &:hover{\n      background-color: ",";\n    }\n  }\n\n  & input:last-child{\n    border: none;\n    outline: none;\n    color: white;\n    background-color: ",";\n    border-radius: 12px;\n    &::placeholder{\n      color: rgba(255, 255, 255, 0.4);\n    }\n\n    &.red::placeholder{\n      color: red;\n    }\n  }\n"])),(function(n){return n.theme.colors.orange.dark}),(function(n){return n.theme.colors.orange.dark}),(function(n){return n.theme.colors.orange.normal}),(function(n){return n.theme.colors.orange.normal})),O=j.c.li(a||(a=Object(p.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 90%;\n  padding-left: 10px;\n  background-color: ",";\n  color: ",";\n  transition: all .1s;\n  border-left: 3px solid black;\n  border-right: 3px solid black;\n  \n  &:last-child{\n    border-bottom: 3px solid black;\n  }\n  \n  &:last-child button:first-child{\n    position: relative;\n    width: 20px;\n    height: 20px;\n    margin-top: 2px;\n    border-radius: 10px;\n    border: none;\n    outline: none;\n    background-color: #eee;\n    line-height: 20px;\n    transform: rotate(0deg);\n    transition: all .4s;\n  }\n\n  & button:last-child{\n    margin: 2px 0;\n  }\n\n  & input:last-child{\n    border: none;\n    outline: none;\n    color: white;\n    background-color: ",";\n    \n    &.red::placeholder{\n      color: red;\n    }\n  }\n  \n  &:hover{\n    width: 100%;\n    border-top-left-radius: 12px;\n    border-bottom-left-radius: 12px;\n  }\n\n  &:last-child:hover button:first-child{\n    transform: rotate(-540deg);\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.gray.light}),(function(n){return n.theme.colors.black.normal}),(function(n){return n.theme.colors.gray.light}),(function(n){return n.theme.colors.orange.normal})),k=t(66),y=t(25),v=t(24),C=t(19),w=t(1),I=Object(C.b)((function(n){return{userId:n.common.userId}}))((function(n){var e=n.childrenCategories,t=n.parentCategories,r=n.userId,o=n.onSubmit,c=Object(b.a)().t,i=Object(d.useState)(t),a=Object(u.a)(i,2),p=a[0],j=a[1],C=Object(d.useState)(e),I=Object(u.a)(C,2),S=I[0],M=I[1],T=Object(d.useCallback)((function(n,e){n.placeholder=c(e),n.classList.add("red"),setTimeout((function(){n.placeholder=c("Add new"),n.classList.remove("red")}),3e3)}),[c]),A=Object(d.useCallback)((function(n){var e=p.find((function(e){return e.name===n})).id,t=document.getElementById(n);if(t.value&&e){var o={id:S.length+1>parseInt(S.slice(-1)[0].id)+1?(S.length+1).toString():(parseInt(S.slice(-1)[0].id)+1).toString(),parentCategory:e,name:t.value,userId:r};M([].concat(Object(l.a)(S),[o]))}else T(t,"Insert category name")}),[S,T,p,r]),B=Object(d.useCallback)((function(){var n=document.getElementById("newParent");if(n.value)if(p.find((function(e){return e.name===n.value})))n.value="",T(n,"Category exists");else{var e={id:p.length+1>parseInt(p.slice(-1)[0].id)+1?(p.length+1).toString():(parseInt(p.slice(-1)[0].id)+1).toString(),name:n.value,userId:r};j([].concat(Object(l.a)(p),[e]))}else T(n,"Insert category name")}),[T,p,r]),E=Object(d.useCallback)((function(n,e){var t=Object(l.a)(S),r=t.indexOf(t.find((function(t){return t.id===n&&t.parentCategoryId===e})));t.splice(r,1),M(t)}),[S]),J=Object(d.useCallback)((function(n){var e=Object(l.a)(S),t=Object(l.a)(p),r=t.indexOf(t.find((function(e){return e.name===n})));M(e.filter((function(n){return n.parentCategory!==t[r].id}))),t.splice(r,1),j(t)}),[S,p]),L=Object(d.useMemo)((function(){return Object.entries(Object(k.groupBy)(S,(function(n){var e=p.find((function(e){return e.id===n.parentCategory}));if(void 0!==e)return e.name})))}),[S,p]),P=L.indexOf(L.find((function(n){return"Other"===n[0]})));L.splice(P,1);var F=L.map((function(n){return n[0]})),N=p.map((function(n){return n.name})).filter((function(n){return!F.includes(n)})),R=p.filter((function(n){return N.includes(n.name)})),U=R.indexOf(R.find((function(n){return"Other"===n.name})));R.splice(U,1);var q=R.map((function(n){return Object(w.jsxs)(x,{children:[Object(w.jsxs)(g,{children:[n.name,Object(w.jsx)(s.a,{buttonType:"delete",onClick:function(){return J(n.name)},children:Object(w.jsx)(v.a,{icon:y.g})})]}),Object(w.jsx)(m,{children:Object(w.jsxs)(O,{children:[Object(w.jsx)("button",{onClick:function(){return A(n.name)},children:Object(w.jsx)(v.a,{icon:y.d})}),Object(w.jsx)("input",{type:"text",id:n.name,placeholder:c("Add new")})]})})]},n.name+100*Math.random())})),z=Object(d.useMemo)((function(){return L.map((function(n){var e=Object(u.a)(n,2),t=e[0],r=e[1].map((function(n){return Object(w.jsxs)(O,{children:[n.name,Object(w.jsx)(s.a,{buttonType:"delete",onClick:function(){return E(n.id,n.parentCategoryId)},children:Object(w.jsx)(v.a,{icon:y.g})})]},n.name+100*Math.random())}));return Object(w.jsxs)(x,{children:[Object(w.jsxs)(g,{children:[t,Object(w.jsx)(s.a,{buttonType:"delete",onClick:function(){return J(t)},children:Object(w.jsx)(v.a,{icon:y.g})})]},t+100*Math.random()),Object(w.jsxs)(m,{children:[r,Object(w.jsxs)(O,{children:[Object(w.jsx)("button",{onClick:function(){return A(t)},children:Object(w.jsx)(v.a,{icon:y.d})}),Object(w.jsx)("input",{type:"text",id:t,placeholder:c("Add new")})]})]})]},t+100*Math.random())}))}),[A,L,E,J,c]),D=Object(d.useCallback)((function(){return function(){M(e),j(t)}}),[e,t]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(h,{children:c("categories").toUpperCase()}),z,q,Object(w.jsxs)(g,{children:[Object(w.jsx)("button",{onClick:B,children:Object(w.jsx)(v.a,{icon:y.d})}),Object(w.jsx)("input",{type:"text",id:"newParent",placeholder:c("New parent Category")})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)(f.b,{to:"/budget",children:Object(w.jsx)(s.a,{buttonType:"submit",type:"submit",onClick:function(){S.forEach((function(n){return delete n.id}));var n=S.filter((function(n){return!e.includes(n)})),r=e.filter((function(n){return!S.includes(n)})),c=p.filter((function(n){return!t.includes(n)})),i=t.filter((function(n){return!p.includes(n)})),a=c.filter((function(e){var t=n.filter((function(n){return n.parentCategory===e.id}));return t.forEach((function(n){return delete n.id})),t.length>0})).map((function(e){var t=n.filter((function(n){return n.parentCategory===e.id}));return{parent:e,children:t}}));o(n,r,c,i,a)},children:c("Save")})}),Object(w.jsx)(s.a,{buttonType:"reset",type:"button",onClick:D,children:"Reset"})]})]})}))}}]);
//# sourceMappingURL=10.bd4ca62f.chunk.js.map