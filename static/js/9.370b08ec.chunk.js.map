{"version":3,"sources":["RoutePages/components/addBudgetForm/AddBudgetForm.js"],"names":["AddBudgetForm","categories","onSubmit","t","useTranslation","useState","selectedCategories","setSelectedCategories","budgetFounds","setBudgetFounds","budgetName","setBudgetName","FoundsError","setFoundsError","NameError","setNameError","categoriesWithoutOther","filter","c","name","categoriesToSelect","useMemo","Object","entries","map","category","value","id","label","theme","colors","primary25","primary","onChange","placeholder","closeMenuOnSelect","isMulti","options","type","event","target","step","min","to","disabled","buttonType","onClick","totalAmount","document","getElementById","reset"],"mappings":"wOAmHeA,EA5GO,SAAC,GAA4B,IAA3BC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,SACzBC,EAAKC,cAALD,EADuC,EAEME,mBAAS,IAFf,mBAEvCC,EAFuC,KAEnBC,EAFmB,OAGNF,mBAAS,GAHH,mBAGvCG,EAHuC,KAGzBC,EAHyB,OAIVJ,mBAAS,IAJC,mBAIvCK,EAJuC,KAI3BC,EAJ2B,OAKRN,oBAAS,GALD,mBAKvCO,EALuC,KAK1BC,EAL0B,OAMZR,oBAAS,GANG,mBAMvCS,EANuC,KAM5BC,EAN4B,KAoCxCC,EAAyBf,EAAWgB,QAAO,SAAAC,GAAC,MAAe,UAAXA,EAAEC,QAElDC,EAAqBC,mBAAQ,kBAAMC,OAAOC,QAAQP,GAAwBQ,KAAI,SAAAC,GAAQ,MACxF,CAACC,MAAOD,EAAS,GAAGE,GAAIC,MAAMH,EAAS,GAAGN,WAC3C,CAACH,IAEJ,OACI,qCACI,6BAAKb,EAAE,gBACP,uBAAMwB,GAAG,aAAT,UACI,cAAC,IAAD,UACI,cAAC,IAAD,CACIE,MAAO,SAAAA,GAAK,kCACLA,GADK,IAERC,OAAO,2BACAD,EAAMC,QADP,IAEFC,UAAW,SACXC,QAAS,aAGjBC,SAAU1B,EACV2B,YAAa/B,EAAE,cACfgC,mBAAmB,EACnBC,SAAO,EACPC,QAASjB,MAIjB,eAAC,IAAD,WACI,cAAC,IAAD,CACIkB,KAAK,OACLJ,YAAY,OACZD,SA5DK,SAACM,GAClBA,EAAMC,OAAOd,OAAOX,GAAa,GACrCJ,EAAc4B,EAAMC,OAAOd,UA4Df,cAAC,IAAD,UAAQvB,EAAE,UACTW,EAAY,cAAC,IAAD,UAAUX,EAAE,cAAyB,QAGtD,eAAC,IAAD,WACI,cAAC,IAAD,CACImC,KAAK,SACLG,KAAM,IACNP,YAAY,SACZQ,IAAK,IACLT,SApEO,SAACM,GACpBA,EAAMC,OAAOd,OAAOb,GAAe,GACvCJ,EAAgB8B,EAAMC,OAAOd,UAoEjB,cAAC,IAAD,UAAQvB,EAAE,YACTS,EAAc,cAAC,IAAD,UAAUT,EAAE,cAAyB,QAGxD,eAAC,IAAD,WACI,cAAC,IAAD,CAAOwC,GAAG,qBAAV,SACI,cAAC,IAAD,CACIC,SAAU9B,GAAaF,EACvBiC,WAAW,SACXP,KAAK,SACLQ,QApEH,WACA,KAAbpC,GAAiBK,GAAa,GAC9BP,GAAc,GAAGK,GAAe,GAC/BC,GAAcF,GACfV,EAAS,CACLiB,KAAMT,EACNT,WAAYK,EACZyC,YAAavC,KAyDL,SAKEL,EAAE,YAER,cAAC,IAAD,CACI0C,WAAW,QACXP,KAAK,SACLQ,QAjFF,WACdE,SAASC,eAAe,cAAcC,QACtCzC,EAAgB,GAChBE,EAAc,IACdJ,EAAsB,KA0EV","file":"static/js/9.370b08ec.chunk.js","sourcesContent":["import React, {useState, useMemo} from 'react'\r\nimport {FormField, FormGroup, Label, Message} from \"components/Input/InputStyles\";\r\nimport {Button} from \"components\";\r\nimport {useTranslation} from \"react-i18next\";\r\nimport Select from 'react-select'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst AddBudgetForm = ({categories, onSubmit}) => {\r\n    const {t} = useTranslation();\r\n    const [selectedCategories, setSelectedCategories] = useState([]);\r\n    const [budgetFounds, setBudgetFounds] = useState(0);\r\n    const [budgetName, setBudgetName] = useState('');\r\n    const [FoundsError, setFoundsError] = useState(true);\r\n    const [NameError, setNameError] = useState(true);\r\n\r\n    const handleNameChange = (event) => {\r\n        if (event.target.value) setNameError(false)\r\n        setBudgetName(event.target.value);\r\n    }\r\n    const handleFoundsChange = (event) => {\r\n        if (event.target.value) setFoundsError(false)\r\n        setBudgetFounds(event.target.value);\r\n    }\r\n\r\n    const resetForm = () => {\r\n        document.getElementById(\"budgetForm\").reset();\r\n        setBudgetFounds(0);\r\n        setBudgetName('');\r\n        setSelectedCategories([]);\r\n    }\r\n\r\n    const handleSubmit = () => {\r\n        if (budgetName==='') setNameError(true);\r\n        if (budgetFounds<=0) setFoundsError(true);\r\n        if (!NameError && !FoundsError){\r\n            onSubmit({\r\n                name: budgetName,\r\n                categories: selectedCategories,\r\n                totalAmount: budgetFounds\r\n            })\r\n        }\r\n    }\r\n\r\n    const categoriesWithoutOther = categories.filter(c => c.name !== 'Other');\r\n\r\n    const categoriesToSelect = useMemo(() => Object.entries(categoriesWithoutOther).map(category => (\r\n        {value: category[1].id, label:category[1].name}\r\n    )),[categoriesWithoutOther]);\r\n\r\n    return(\r\n        <>\r\n            <h1>{t('Add Budget')}</h1>\r\n            <form id=\"budgetForm\">\r\n                <FormGroup >\r\n                    <Select\r\n                        theme={theme => ({\r\n                            ...theme,\r\n                            colors: {\r\n                                ...theme.colors,\r\n                                primary25: 'orange',\r\n                                primary: 'black',\r\n                            },\r\n                        })}\r\n                        onChange={setSelectedCategories}\r\n                        placeholder={t('Categories')}\r\n                        closeMenuOnSelect={false}\r\n                        isMulti\r\n                        options={categoriesToSelect}\r\n                    />\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <FormField\r\n                        type=\"text\"\r\n                        placeholder=\"Name\"\r\n                        onChange={handleNameChange}\r\n                    />\r\n                    <Label>{t('name')}</Label>\r\n                    {NameError ? <Message>{t('Required')}</Message> : null}\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <FormField\r\n                        type=\"number\"\r\n                        step={0.01}\r\n                        placeholder=\"Amount\"\r\n                        min={0.01}\r\n                        onChange={handleFoundsChange}\r\n                    />\r\n                    <Label>{t('amount')}</Label>\r\n                    {FoundsError ? <Message>{t('Required')}</Message> : null}\r\n                </FormGroup>\r\n\r\n                <FormGroup>\r\n                    <Link  to='/budget/categories'>\r\n                        <Button\r\n                            disabled={NameError || FoundsError}\r\n                            buttonType='submit'\r\n                            type='submit'\r\n                            onClick={handleSubmit}\r\n                        >{t('Next')}</Button>\r\n                    </Link>\r\n                    <Button\r\n                        buttonType=\"reset\"\r\n                        type=\"button\"\r\n                        onClick={resetForm}\r\n                    >\r\n                        Reset\r\n                    </Button>\r\n                </FormGroup>\r\n            </form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AddBudgetForm;\r\n"],"sourceRoot":""}